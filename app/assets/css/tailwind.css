@import './tokens.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── УТИЛИТЫ НА ТОКЕНАХ ─────────────────────────────────────────────── */
@layer utilities {
  /* background */
  .bg-bg { background-color: var(--bg); }
  .bg-surface { background-color: var(--surface); }
  .bg-surface-2 { background-color: var(--surface-2); }
  .bg-accent { background-color: var(--accent); }
  .hover\:bg-surface:hover { background-color: var(--surface); }
  .hover\:bg-surface-2:hover { background-color: var(--surface-2); }

  /* text */
  .text-fg { color: var(--fg); }
  .text-accent { color: var(--accent); }
  .text-accent-contrast { color: var(--accent-contrast); }
  .text-error { color: var(--error); }
  .hover\:text-accent:hover { color: var(--accent); }
  .hover\:text-accent-contrast:hover { color: var(--accent-contrast); }

  /* borders & divide */
  .border-border { border-color: var(--border); }
  .border-strong { border-color: var(--border-strong); }
  .hover\:border-strong:hover { border-color: var(--border-strong); }
  .divide-muted > :not([hidden]) ~ :not([hidden]) { border-color: var(--muted); }

  /* rings */
  .ring-accent { --tw-ring-color: var(--accent); }

  /* fonts */
  .font-sans-token { font-family: var(--font-sans); }
  .font-mono-token { font-family: var(--font-mono); }
}

/* ── БАЗА ────────────────────────────────────────────────────────────── */
:root {
  color-scheme: light dark;
}

/* ── ШРИФТ ───────────────────────────────────────────────────────────── */
html {
  font-family: var(--font-sans);
}

body {
  background: var(--bg);
  color: var(--fg);
}

/* ── ИНПУТЫ (глобальный дефолт, не ломая UiInput со scoped) ─────────── */
.input {
  @apply w-full h-10 rounded-sm px-4 bg-transparent placeholder:opacity-50 outline-none;
  color: var(--fg);
  border: 1px solid var(--border);
}
.input:focus {
  @apply ring-2;
  border-color: var(--border-strong);
  box-shadow: 0 0 0 0;            /* избегаем двойного фокуса с ring */
  --tw-ring-color: var(--accent);
}

@layer components {
  .page {
    /* правая колонка по макету, но без жёстких позиций: компактная колонка */
    display: grid;
    justify-items: center;
    width: 100%;
  }
  /* Заголовок страниц внутри рамки (login/register/etc) */
  .page__title {
    @apply font-normal;
    font-family: var(--font-sans);
    font-size: 1.5rem;        /* 24px — 8pt-friendly вместо 26px */
    line-height: 1.1;
  }

  /* ── ТАБЛИЦА ДЛЯ /movies ────────────────────────────────────────────── */
  .table { @apply w-full text-left; }
  .table thead {
    position: relative;

    &::after {
      content: '';
      position: absolute;
      /* left: 40px; /1* как в макете *1/ */
      /* right: 80px; /1* как в макете *1/ */
      left: 0;
      right: 0;
      bottom: 0;
      height: 1px;
      background: var(--border-strong);
    }
  }
  .table__row { border-top: 0; }
  .table__th { @apply text-[14px] leading-[1.2] font-normal py-3 break-words; }
  .table__td { @apply text-[16px] leading-[1.2] font-normal py-4 break-words; }

  /* Медиа-ячейка */
  .media { @apply flex items-center gap-4; }
  .media--top { @apply items-start }

  .media__thumb-img {
    /* width: 100%; */
    width: 96px;
    height: 100%;
    object-fit: cover;
    border-radius: 4px; /* чуть меньше, чем контейнер, чтобы не «выпирал» */
    background-color: transparent;
    padding: 4px;
    text-align: center;
  }
  .media__thumb {
    @apply w-10 h-10 rounded flex items-center justify-center;
    background: var(--surface);
    border: 1px solid var(--border);
  }
  .media__title {
    .media--top & {
      @apply pt-3
    }
  }


  /* ── КНОПКИ ──────────────────────────────────────────────────────────── */
  /* .btn { @apply inline-flex items-center justify-center h-9 px-[10px] rounded-sm text-[12px] leading-none; } */
  /* .btn--outline { */
  /*   border: 1px solid var(--border-strong); */
  /*   background: transparent; */
  /* } */
  /* .btn--outline:hover { background: color-mix(in srgb, var(--fg) 8%, transparent); } /1* = overlay через токены *1/ */
  /* .btn--solid { color: var(--accent-contrast); background: var(--accent); } */

  /* ── ССЫЛКИ ─────────────────────────────────────────────────────────── */
  .link {
    text-decoration: underline;
    text-decoration-color: var(--fg);
  }
}

